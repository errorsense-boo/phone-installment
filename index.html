<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>คำนวณผ่อนโทรศัพท์</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

  <div class="w-full max-w-xl bg-white rounded-2xl shadow-lg p-6">
    <h1 class="text-2xl font-bold text-gray-800 mb-4 text-center">
      โปรแกรมคำนวณผ่อนโทรศัพท์
    </h1>

    <!-- Input Section -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <div>
        <label class="block text-sm font-medium text-gray-600 mb-1">ราคาเครื่อง (บาท)</label>
        <input id="price" type="number" placeholder="เช่น 9900"
          class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none p-2" />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-600 mb-1">เงินดาวน์ (บาท)</label>
        <input id="down" type="number" placeholder="เช่น 1800"
          class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none p-2" />
      </div>
    </div>

    <!-- Result -->
    <div id="result" class="space-y-3"></div>
  </div>

  <script>
    const priceInput = document.getElementById('price');
    const downInput = document.getElementById('down');
    const resultDiv = document.getElementById('result');

    const plans = [
      { months: 2, interest: 0.05 },
      { months: 3, interest: 0.10 },
      { months: 4, interest: 0.15 },
      { months: 5, interest: 0.20 },
      { months: 6, interest: 0.20 }
    ];

    function calculate() {
      const price = parseFloat(priceInput.value);
      const down = parseFloat(downInput.value);

      if (isNaN(price) || isNaN(down) || price <= down) {
        resultDiv.innerHTML = '';
        return;
      }

      const principal = price - down;

      resultDiv.innerHTML = `
        <div class="bg-blue-50 rounded-xl p-4">
          <p class="text-sm text-gray-600">ยอดตั้งต้นที่นำไปผ่อน</p>
          <p class="text-xl font-semibold text-blue-700">${principal.toLocaleString()} บาท</p>
        </div>
      `;

      plans.forEach(plan => {
        const total = principal + principal * plan.interest;
        const perMonth = total / plan.months;

        resultDiv.innerHTML += `
          <div class="border rounded-xl p-4 flex justify-between items-center">
            <div>
              <p class="font-medium">ผ่อน ${plan.months} งวด</p>
              <p class="text-sm text-gray-500">ดอกเบี้ย ${plan.interest * 100}%</p>
            </div>
            <div class="text-right">
              <p class="text-lg font-semibold text-gray-800">${perMonth.toLocaleString(undefined,{maximumFractionDigits:2})} บาท</p>
              <p class="text-xs text-gray-500">ยอดรวม ${total.toLocaleString()} บาท</p>
            </div>
          </div>
        `;
      });
    }

    priceInput.addEventListener('input', calculate);
    downInput.addEventListener('input', calculate);
  </script>

</body>
</html>
